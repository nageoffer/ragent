@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --background: 0 0% 100%;
  --foreground: 222 47% 11%;
  --card: 210 40% 98%;
  --card-foreground: 222 47% 11%;
  --popover: 0 0% 100%;
  --popover-foreground: 222 47% 11%;
  --primary: 239 84% 67%;
  --primary-foreground: 0 0% 100%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222 47% 11%;
  --muted: 214 32% 91%;
  --muted-foreground: 215 16% 47%;
  --accent: 210 40% 96%;
  --accent-foreground: 222 47% 11%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 239 84% 67%;
  --chat-user: 239 84% 96%;
  --chat-assistant: 0 0% 100%;
  --glow: 239 84% 67%;

  /* ===== 新设计系统 - 背景 ===== */
  --bg-primary: #FFFFFF;
  --bg-secondary: #FAFAFA;
  --bg-tertiary: #F5F5F5;
  --bg-hover: #EEEEEE;
  --bg-active: #FEF3C7;

  /* ===== 新设计系统 - 文字 ===== */
  --text-primary: #1A1A1A;
  --text-secondary: #4A4A4A;
  --text-tertiary: #999999;
  --text-muted: #CCCCCC;
  --text-on-accent: #FFFFFF;

  /* ===== 新设计系统 - 强调色（蓝色系）===== */
  --accent-primary: #3B82F6;
  --accent-secondary: #2563EB;
  --accent-light: #DBEAFE;
  --accent-hover: #60A5FA;

  /* ===== 新设计系统 - 边框 ===== */
  --border-default: #E5E5E5;
  --border-light: #F0F0F0;
  --border-focus: #D4D4D4;
  --border-accent: #BFDBFE;

  /* ===== 新设计系统 - 状态色 ===== */
  --success: #10B981;
  --warning: #F59E0B;
  --error: #EF4444;
  --info: #3B82F6;

  /* ===== 新设计系统 - 圆角 ===== */
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-full: 9999px;

  /* ===== 新设计系统 - 间距 ===== */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 24px;
  --spacing-2xl: 32px;
  --spacing-3xl: 48px;
  --spacing-4xl: 64px;

  /* ===== 新设计系统 - 阴影 ===== */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 6px 16px rgba(0, 0, 0, 0.08);
  --shadow-xl: 0 10px 24px rgba(0, 0, 0, 0.10);

  /* ===== 新设计系统 - 字体 ===== */
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-serif: Georgia, "Times New Roman", serif;
  --font-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, monospace;

  /* ===== 新设计系统 - 字号 ===== */
  --text-xs: 12px;
  --text-sm: 13px;
  --text-base: 14px;
  --text-lg: 15px;
  --text-xl: 18px;
  --text-2xl: 24px;
  --text-3xl: 32px;
  --text-4xl: 48px;

  /* ===== 新设计系统 - 字重 ===== */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* ===== 新设计系统 - 行高 ===== */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;

  /* ===== 新设计系统 - 过渡 ===== */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;

  /* ===== 新设计系统 - 布局 ===== */
  --sidebar-width: 280px;
  --content-max-width: 800px;
  --header-height: 60px;

  /* ===== 旧变量保留（兼容性）===== */
  --sidebar-bg: #FAFAFA;
  --sidebar-item-active: #DBEAFE;
  --sidebar-item-hover: #F5F5F5;
  --primary-color: #3B82F6;
  --primary-light: #60A5FA;
  --primary-dark: #2563EB;
  --secondary-color: #3B82F6;
  --gradient-primary: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);
  --gradient-light: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
  --dsw-alias-brand-primary-invert: #93C5FD;
  --dsw-specific-sidebar-nav-item-active-accent: #EFF6FF;
}

.dark {
  color-scheme: light;
}

* {
  @apply border-border;
}

html,
body {
  height: 100%;
  overscroll-behavior: none;
}

body {
  @apply bg-[#FAFAFA] text-gray-900 font-body antialiased min-h-screen;
  background-color: var(--bg-secondary);
  overflow: hidden;
}

#root {
  height: 100%;
  min-height: 100vh;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 999px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

.text-gradient {
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}

.glass {
  background: rgba(255, 255, 255, 0.7);
  border: 1px solid #e2e8f0;
  backdrop-filter: blur(20px);
}

.prose code {
  @apply font-mono;
}

.prose pre {
  @apply bg-gray-50 text-gray-800;
}

.chat-surface {
  @apply bg-white/80 backdrop-blur-xl border border-border/60 shadow-soft;
}

textarea {
  field-sizing: content;
}

.dot-flash::after {
  content: "";
  @apply inline-block w-1.5 h-1.5 rounded-full bg-muted-foreground align-middle ml-1 animate-blink;
}

.ai-wait {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: #999999;
  font-size: 13px;
}

.ai-wait-dots {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  height: 14px;
}

.ai-wait-dot {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: #CCCCCC;
  animation: ai-wait-bounce 1.2s ease-in-out infinite;
}

.ai-wait-dot:nth-child(2) {
  animation-delay: 0.15s;
}

.ai-wait-dot:nth-child(3) {
  animation-delay: 0.3s;
}

@keyframes ai-wait-bounce {
  0%,
  80%,
  100% {
    transform: translateY(0);
    opacity: 0.6;
  }
  40% {
    transform: translateY(-4px);
    opacity: 1;
  }
}

.sidebar-scroll {
  scrollbar-width: none;
}

.sidebar-scroll::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.sidebar-scroll::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 2px;
}

.sidebar-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-scroll:hover {
  scrollbar-width: thin;
}

.sidebar-scroll:hover::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.sidebar-scroll:hover::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.25);
}

.user-message {
  background: #F5F5F5;
  color: #333333;
  padding: 10px 16px;
  border-radius: 16px 16px 4px 16px;
  max-width: 80%;
  width: fit-content;
  margin-left: auto;
  font-size: 15px;
  line-height: 1.5;
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: pre-wrap;
}
